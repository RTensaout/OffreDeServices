const dict = {
  fr: {
    // HEAD
    page_title: "Rayane Tensaout | Développeur Web — Sites Premium & E-Commerce",
    page_desc: "Développeur web : site vitrine, e-commerce, SEO, performance. Portfolio, offres, contact.",

    // ARIA / UI
    nav_aria: "Navigation principale",
    home_aria: "Accueil",
    menu_aria: "Menu",
    lang_aria: "Changer la langue",
    whatsapp_aria: "WhatsApp",
    lang_btn: "FR / AR",
    whatsapp: "WhatsApp",

    // NAV
    nav_services: "Services",
    nav_skills: "Capacités",
    nav_pricing: "Tarifs",
    nav_portfolio: "Portfolio",
    nav_about: "À propos",
    nav_contact: "Contact",

    // CTA
    cta_quote: "Demander un devis",
    cta_pricing: "Voir les tarifs",
    cta_portfolio: "Portfolio",

    // HERO
    badge: "Disponible • Freelance / Mission",
    hero_title: "Développeur Web — Sites premium & SEO",
    hero_subtitle: "Je crée des sites rapides, élégants et responsives pour présenter vos offres et générer des clients.",

    // KPI
    kpi1_t: "Performance",
    kpi1_v: "Site rapide & optimisé",
    kpi2_t: "SEO",
    kpi2_v: "Structure Google-friendly",
    kpi3_t: "Design Unique",
    kpi3_v: "Moderne & Captivant",

    // PROFILE
    profile_role: "Développeur Web • PHP • SEO",
    pill_fast: "Rapide",
    quick_phone: "Téléphone",
    email_label: "Email",
    quick_city: "Ville",
    quick_city_v: "Seddouk, Algérie",
    mini1_k: "Réponse",
    mini1_v: "Rapide",
    mini2_k: "Livraison",
    mini2_v: "Dans les délais",
    mini3_k: "Qualité",
    mini3_v: "Premium",

    // TRUST
    trust: "Design premium • Mobile • SEO • Performance • E-Commerce",
    trust2: "Idéal pour entreprises, artisans, services",

    // SERVICES
    services_title: "Services",
    services_subtitle: "Un site élégant, rapide, qui convertit et inspire confiance.",
    srv1_t: "Site vitrine premium",
    srv1_p: "Design moderne, sections claires, expérience pro.",
    srv2_t: "Conversion & Vente",
    srv2_p: "CTA, WhatsApp, formulaire, ou Boutique en ligne.",
    srv3_t: "SEO & performance",
    srv3_p: "Optimisation technique + structure Google-friendly.",

    // SKILLS
    skills_title: "Capacités",
    skills_subtitle: "Sites vitrines, tunnels de vente et projets web plus avancés (Full-Stack).",

    // PRICING (les montants restent fixes dans le HTML)
    pricing_title: "Tarifs",
    pricing_subtitle: "Devis clair selon pages, contenu et délais.",
    from: "À partir de",
    best: "Meilleur choix",

    pr1_t: "Starter",
    pr1_tag: "1 page • rapide",
    pr1_li1: "Design premium + mobile",
    pr1_li2: "WhatsApp + formulaire",
    pr1_li3: "SEO de base",

    pr2_t: "Business",
    pr2_tag: "3–5 pages • Google",
    pr2_li1: "Pages complètes + structure",
    pr2_li2: "SEO + performance",
    pr2_li3: "Portfolio + avis + sections pro",

    pr3_t: "E-Commerce",
    pr3_tag: "Boutique • Vente",
    pr3_li1: "Paiement en ligne sécurisé",
    pr3_li2: "Gestion produits & stocks",
    pr3_li3: "Panier + Expérience Client",

    pricing_note: "Dis-moi : pages, activité, contenu, délai. Je te réponds avec un devis simple et rapide.",

    // PORTFOLIO
    portfolio_title: "Portfolio",
    portfolio_subtitle: "Mon portfolio complet est disponible en ligne.",
    pf_main_cta: "Voir tous mes projets (Portfolio)",

    // ABOUT
    about_title: "À propos",
    about_p1: "Profil rigoureux, formé en ingénierie web (INSIM/ESGI).",
    about_p2: "Expérience de stage à Paris (Paylight) : sites responsives, intégration, maintenance, qualité pro.",
    about_box_title: "Pourquoi moi ?",
    why1: "Organisation & respect des délais",
    why2: "Site rapide + responsive + pro",
    why3: "Communication claire + suivi",

    // CONTACT
    contact_title: "Contact",
    contact_subtitle: "Dis-moi ton besoin (type de site, pages, délai). Je réponds rapidement.",
    contact_fast: "Contact direct",
    contact_fast_p: "Le plus rapide : WhatsApp.",
    contact_note: "Je peux aussi proposer domaine + hébergement selon ton budget.",

    form_name: "Nom",
    form_email: "Email",
    form_need: "Votre besoin",
    form_send: "Envoyer",
    form_hint: "Le formulaire ouvre votre email avec un message prêt à envoyer (pas de backend).",

    // placeholders
    name_ph: "Votre nom",
    email_ph: "Votre email",
    message_ph: "Décrivez votre besoin (type de site, pages, délai...)",

    // FOOTER
    footer_name: "Rayane Tensaout",
    footer_top: "Haut de page"
  },

  ar: {
    // HEAD
    page_title: "ريان تنساوت | مطور ويب — مواقع احترافية ومتاجر إلكترونية",
    page_desc: "مطور ويب: موقع تعريفي، متجر إلكتروني، SEO، أداء. أعمالي، خدماتي، تواصل.",

    // ARIA / UI
    nav_aria: "التنقل الرئيسي",
    home_aria: "الرئيسية",
    menu_aria: "القائمة",
    lang_aria: "تغيير اللغة",
    whatsapp_aria: "واتساب",
    lang_btn: "AR / FR",
    whatsapp: "واتساب",

    // NAV
    nav_services: "الخدمات",
    nav_skills: "القدرات",
    nav_pricing: "الأسعار",
    nav_portfolio: "الأعمال",
    nav_about: "نبذة عني",
    nav_contact: "تواصل",

    // CTA
    cta_quote: "اطلب عرض سعر",
    cta_pricing: "شاهد الأسعار",
    cta_portfolio: "الأعمال",

    // HERO
    badge: "متاح • عمل حر / مهمة",
    hero_title: "مطور ويب — مواقع احترافية وSEO",
    hero_subtitle: "أصمم مواقع سريعة وأنيقة ومتجاوبة لعرض خدماتك وجلب العملاء.",

    // KPI
    kpi1_t: "الأداء",
    kpi1_v: "موقع سريع ومحسّن",
    kpi2_t: "SEO",
    kpi2_v: "بنية مناسبة لـ Google",
    kpi3_t: "تصميم فريد",
    kpi3_v: "حديث وجذاب",

    // PROFILE
    profile_role: "مطور ويب • PHP • SEO",
    pill_fast: "سريع",
    quick_phone: "الهاتف",
    email_label: "البريد",
    quick_city: "المدينة",
    quick_city_v: "صدوق، الجزائر",
    mini1_k: "الرد",
    mini1_v: "سريع",
    mini2_k: "التسليم",
    mini2_v: "في الوقت",
    mini3_k: "الجودة",
    mini3_v: "Premium",

    // TRUST
    trust: "تصميم Premium • هاتف • SEO • أداء • E-Commerce",
    trust2: "مناسب للشركات والحرفيين والخدمات",

    // SERVICES
    services_title: "الخدمات",
    services_subtitle: "موقع أنيق وسريع يجلب العملاء ويعطي ثقة.",
    srv1_t: "موقع تعريفي Premium",
    srv1_p: "تصميم حديث، أقسام واضحة، تجربة احترافية.",
    srv2_t: "التحويل والبيع",
    srv2_p: "CTA، واتساب، نموذج تواصل، أو متجر إلكتروني.",
    srv3_t: "SEO والأداء",
    srv3_p: "تحسين تقني + بنية مناسبة لـ Google.",

    // SKILLS
    skills_title: "القدرات",
    skills_subtitle: "مواقع تعريفية، قمع بيع، ومشاريع ويب متقدمة (Full-Stack).",

    // PRICING
    pricing_title: "الأسعار",
    pricing_subtitle: "عرض سعر واضح حسب الصفحات والمحتوى والمدة.",
    from: "ابتداءً من",
    best: "أفضل اختيار",

    pr1_t: "Starter",
    pr1_tag: "صفحة واحدة • سريع",
    pr1_li1: "تصميم Premium + هاتف",
    pr1_li2: "واتساب + نموذج تواصل",
    pr1_li3: "SEO أساسي",

    pr2_t: "Business",
    pr2_tag: "3–5 صفحات • Google",
    pr2_li1: "صفحات كاملة + هيكلة",
    pr2_li2: "SEO + أداء",
    pr2_li3: "أعمال + آراء + أقسام احترافية",

    pr3_t: "E-Commerce",
    pr3_tag: "متجر • بيع",
    pr3_li1: "دفع إلكتروني آمن",
    pr3_li2: "إدارة المنتجات والمخزون",
    pr3_li3: "سلة + تجربة عميل",

    pricing_note: "أرسل: عدد الصفحات، النشاط، المحتوى، المدة. سأرد بعرض سريع وواضح.",

    // PORTFOLIO
    portfolio_title: "الأعمال",
    portfolio_subtitle: "ملف أعمالي الكامل متوفر على الإنترنت.",
    pf_main_cta: "شاهد كل أعمالي (Portfolio)",

    // ABOUT
    about_title: "نبذة عني",
    about_p1: "ملف جاد وتكوين في هندسة الويب (INSIM/ESGI).",
    about_p2: "تجربة تدريب بباريس (Paylight): مواقع متجاوبة، إدماج، صيانة، جودة احترافية.",
    about_box_title: "لماذا تختارني؟",
    why1: "تنظيم واحترام المواعيد",
    why2: "موقع سريع ومتجاوب واحترافي",
    why3: "تواصل واضح ومتابعة",

    // CONTACT
    contact_title: "تواصل",
    contact_subtitle: "اكتب احتياجك (نوع الموقع، الصفحات، المدة). سأرد بسرعة.",
    contact_fast: "تواصل مباشر",
    contact_fast_p: "الأسرع: واتساب.",
    contact_note: "أستطيع اقتراح دومين + استضافة حسب ميزانيتك.",

    form_name: "الاسم",
    form_email: "البريد الإلكتروني",
    form_need: "احتياجك",
    form_send: "إرسال",
    form_hint: "النموذج يفتح بريدك برسالة جاهزة (بدون سيرفر).",

    // placeholders
    name_ph: "اكتب اسمك",
    email_ph: "اكتب بريدك الإلكتروني",
    message_ph: "اشرح احتياجك (نوع الموقع، عدد الصفحات، المدة...)",

    // FOOTER
    footer_name: "ريان تنساوت",
    footer_top: "أعلى الصفحة"
  }
};

let lang = "fr";

function setHeadTexts(l) {
  if (dict[l].page_title) document.title = dict[l].page_title;

  const metaDesc = document.querySelector('meta[name="description"]');
  if (metaDesc && dict[l].page_desc) metaDesc.setAttribute("content", dict[l].page_desc);
}

function applyLang(l){
  lang = l;
  const isAR = l === "ar";
  document.documentElement.lang = isAR ? "ar" : "fr";
  document.documentElement.dir = isAR ? "rtl" : "ltr";

  // Texte
  document.querySelectorAll("[data-i18n]").forEach(el=>{
    const key = el.getAttribute("data-i18n");
    if (dict[l][key]) el.textContent = dict[l][key];
  });

  // Attributs (placeholder, aria-label, title…)
  document.querySelectorAll("[data-i18n-attr]").forEach(el=>{
    const rules = el.getAttribute("data-i18n-attr").split(",");
    rules.forEach(rule=>{
      const [attr, key] = rule.split(":").map(s => s.trim());
      if (attr && key && dict[l][key]) el.setAttribute(attr, dict[l][key]);
    });
  });

  setHeadTexts(l);
}

document.getElementById("langBtn").addEventListener("click", ()=>{
  applyLang(lang === "fr" ? "ar" : "fr");
});

document.getElementById("year").textContent = new Date().getFullYear();

/* Mobile menu */
const menuBtn = document.getElementById("menuBtn");
const mobileMenu = document.getElementById("mobileMenu");

menuBtn.addEventListener("click", ()=>{
  mobileMenu.classList.toggle("is-open");
  mobileMenu.setAttribute("aria-hidden", mobileMenu.classList.contains("is-open") ? "false" : "true");
});

mobileMenu.querySelectorAll("a").forEach(a=>{
  a.addEventListener("click", ()=>{
    mobileMenu.classList.remove("is-open");
    mobileMenu.setAttribute("aria-hidden", "true");
  });
});

/* Reveal on scroll */
const reveals = [...document.querySelectorAll(".reveal")];
const io = new IntersectionObserver((entries)=>{
  entries.forEach(e=>{
    if(e.isIntersecting){
      e.target.classList.add("is-visible");
      io.unobserve(e.target);
    }
  });
},{threshold:0.12});

reveals.forEach(el=>io.observe(el));

/* Form without backend -> mailto */
document.getElementById("contactForm").addEventListener("submit", (e)=>{
  e.preventDefault();
  const data = new FormData(e.target);
  const name = (data.get("name") || "").toString().trim();
  const email = (data.get("email") || "").toString().trim();
  const message = (data.get("message") || "").toString().trim();

  const subject = encodeURIComponent(lang === "ar" ? "طلب عرض سعر - من الموقع" : "Demande de devis - Site Web");
  const body = encodeURIComponent(
    (lang === "ar" ? "الاسم: " : "Nom: ") + name + "\n" +
    (lang === "ar" ? "البريد: " : "Email: ") + email + "\n\n" +
    (lang === "ar" ? "الرسالة:\n" : "Message:\n") + message
  );

  window.location.href = `mailto:rayanetensaout@gmail.com?subject=${subject}&body=${body}`;
});

// ✅ Langue par défaut au chargement
applyLang("fr");
